<navbar 
  isHome="{{false}}" 
  pageTitle="分类" 
  transparent="{{false}}" 
  lightText="{{false}}" 
  showHomeSearch="{{true}}"
  homeTitle="分类"
  homeLogoUrl="/images/icon/建材.svg"
  homeTitleColor="#333333"
  bind:search="goSearch">
</navbar>

<view class="category-page">
  <view class="category-search" bindtap="goSearch">
    <view class="search-icon"></view>
    <text class="search-text">搜索品类与品牌</text>
  </view>

  <view class="category-body">
    <scroll-view class="category-sidebar" scroll-y>
      <view class="category-sidebar-inner">
        <view
          class="category-item {{index === activeIndex ? 'active' : ''}}"
          wx:for="{{categories}}"
          wx:key="name"
          data-index="{{index}}"
          bindtap="selectCategory"
        >
          <text>{{item.name}}</text>
        </view>
      </view>
    </scroll-view>
    <scroll-view class="category-content" scroll-y>
      <view class="category-content-inner">
        <view class="category-banner" wx:if="{{activeCategory}}">
          <image src="{{activeCategory.bannerImage}}" mode="aspectFill"></image>
          <view class="banner-mask"></view>
          <view class="banner-text">{{activeCategory.bannerText}}</view>
        </view>
        <view class="category-products" wx:if="{{activeCategory}}">
          <view
            class="product-card"
            wx:for="{{activeCategory.products}}"
            wx:key="name"
            data-name="{{item.name}}"
            bindtap="goCategoryDetail"
          >
            <image src="{{item.image}}" mode="aspectFill"></image>
            <text>{{item.name}}</text>
          </view>
        </view>
        <view class="category-empty" wx:if="{{!activeCategory}}">
          <text>暂无分类内容</text>
        </view>
      </view>
    </scroll-view>
  </view>
</view>